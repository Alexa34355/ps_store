<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
	    <title>Add</title>
        <link rel="stylesheet" type="text/css" href="static/css/edititem.css">
    </head>
    <body>
        <form action="/EditItem" method="POST" enctype="multipart/form-data">
            <input name="ID" value="{{ .ID }}" hidden>
            Name: <br> <textarea name="name" cols="30" rows="4"> {{.Name}} </textarea><br>
            Description: <br> <textarea name="description" cols="40" rows="7"> {{ .Description }} </textarea> <br>
            Cost: <input type="text" name="cost" value="{{ .Cost }}"> <br>
            IMG: <input type="file" accept="image/jpeg,image/png,image/gif" name="img" multiple onchange="OnLoad()" > <br>
                 <img src="static/img/{{.IMG}}" id="test">
            Category: <select name="category" id="">
                <option value="notSelected" selected>Not selected...</option>
                <option value="Frame">Action</option>
                <option value="Motherboard">Fighting</option>
                <option value="CPU">Adventure</option>
                <option value="RAM">Single Player</option>
                <option value="SSD/Hard disk">Multiplayer</option>
                <option value="Power Unit">Shooter</option>
                <option value="GPU">MOBA</option>
                <option value="Сooler">Role-plaing</option>
            </select>
            <br>
            <input type="submit" value="ADD PRODUCT">
        </form>

        <script>
            function OnLoad() {
                    var target = event.target;

                    if (!FileReader) {
                        alert('FileReader не поддерживается — облом');
                        return;
                    }

                    if (!target.files.length) {
                        alert('Ничего не загружено');
                        return;
                    }

                    var fileReader = new FileReader();
                    fileReader.onload = function() {
                        document.getElementById('test').src = fileReader.result;
                    }

                    fileReader.readAsDataURL(target.files[0]);
                }
        </script>

    </body>
</html>